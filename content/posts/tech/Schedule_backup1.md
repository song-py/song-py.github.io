+++
title = '定时备份1'
date = 2024-04-22T21:52:16+08:00
ags = ['备份']
draft = false
+++

定时备份是最常见的备份方式，其中最基本的备份方式是全量备份、增量备份、差量备份。

## 全量备份

将数据对象的所有定义集合都进行备份，不论数据对象自上次备份之后是否修改过，也称作完全备份。

全量备份是增量备份和差量备份的基础。

全量备份是数据最可靠的、最完备的，但是会备份时间过长并消耗大量的介质空间。

## 增量备份

为了解决每次全量备份时间窗口过大，占用介质多的问题，发明了增量备份。

增量备份只备份上一次备份后，所有发生变化的数据，上次备份有可能是任何方式的备份。（类似oracle中差异增量备份）

虽然解决了每次全量备份的问题，但是同样有一些问题：

1. 数据的可靠性降低了，只要中间一份增量数据副本出问题，整个备份链就有可能出问题。
2. 数据恢复时需要从全量备份开始，恢复中间每一个备份数据副本，影响恢复效率。

所以一般情况下备份策略都会采用周期全量备份，中间增量备份。

## 差量备份

同增量备份不同，差量备份会备份上一次全量备份后，所以发生变化的数据。（类似oracle中累积增量备份）

差量备份的所有参数都位于全量备份和增量备份之间。

因此有时为了提高可靠性，备份策略在周期全量备份加增量备份的过程中配置差量备份。

比如 每周日全量备份，周一、周二增量备份，周三差量备份，周四、周五、周六在差量备份的基础上增量备份。
